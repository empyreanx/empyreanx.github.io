\hypertarget{pico__ecs_8h_source}{}\doxysection{pico\+\_\+ecs.\+h}
\mbox{\hyperlink{pico__ecs_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{55 \textcolor{preprocessor}{\#ifndef PICO\_ECS\_H}}
\DoxyCodeLine{56 \textcolor{preprocessor}{\#define PICO\_ECS\_H}}
\DoxyCodeLine{57 }
\DoxyCodeLine{58 \textcolor{preprocessor}{\#include <stdbool.h>} \textcolor{comment}{// true, false}}
\DoxyCodeLine{59 \textcolor{preprocessor}{\#include <stdint.h>}  \textcolor{comment}{// uint32\_t, uint32\_t}}
\DoxyCodeLine{60 }
\DoxyCodeLine{61 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{62 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \{}
\DoxyCodeLine{63 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{64 }
\DoxyCodeLine{65 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }ecs\_s \mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}; }
\DoxyCodeLine{66 \textcolor{keyword}{typedef} uint32\_t  \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}}; }
\DoxyCodeLine{67 \textcolor{keyword}{typedef} int8\_t   \mbox{\hyperlink{pico__ecs_8h_a3479df8429f09e798b32037419f94af9}{ecs\_ret\_t}}; }
\DoxyCodeLine{70 \textcolor{comment}{// Invalid entity/component ID}}
\DoxyCodeLine{71 \textcolor{keyword}{static} \textcolor{keyword}{const} \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} ECS\_NULL = (\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}})-\/1;}
\DoxyCodeLine{72 }
\DoxyCodeLine{73 \textcolor{comment}{/*}}
\DoxyCodeLine{74 \textcolor{comment}{ * Determine floating point type}}
\DoxyCodeLine{75 \textcolor{comment}{ */}}
\DoxyCodeLine{76 \textcolor{preprocessor}{\#ifdef ECS\_FLOAT}}
\DoxyCodeLine{77     \textcolor{keyword}{typedef} \textcolor{keywordtype}{float}  \mbox{\hyperlink{pico__ecs_8h_a7dbffd9b7cd3048225140f3b77db1d52}{ecs\_dt\_t}};}
\DoxyCodeLine{78 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{79     \textcolor{keyword}{typedef} \textcolor{keywordtype}{double} \mbox{\hyperlink{pico__ecs_8h_a7dbffd9b7cd3048225140f3b77db1d52}{ecs\_dt\_t}};}
\DoxyCodeLine{80 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{81 }
\DoxyCodeLine{86 \textcolor{keyword}{typedef} \textcolor{keyword}{enum}}
\DoxyCodeLine{87 \{}
\DoxyCodeLine{88     \mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4a311df3abe50dba61204c17ab59066402}{ECS\_MATCH\_NONE}},     }
\DoxyCodeLine{89     \mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4a98da0f1359e542232651fd3a1dd209ec}{ECS\_MATCH\_ALL}},      }
\DoxyCodeLine{90     \mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4a10b2c2899ef0a375dc222568a9b24bd2}{ECS\_MATCH\_ANY}},      }
\DoxyCodeLine{92     \mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4a704e02f4a8bc3682185022aa9fd26e60}{ECS\_MATCH\_REQUIRED}}, }
\DoxyCodeLine{94     \mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4a3fe50a89d4eaa719f9055bdb31f7009f}{ECS\_MATCH\_EXACT}}     }
\DoxyCodeLine{96 \} \mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4}{ecs\_match\_t}};}
\DoxyCodeLine{97 }
\DoxyCodeLine{110 \textcolor{keyword}{typedef} \mbox{\hyperlink{pico__ecs_8h_a3479df8429f09e798b32037419f94af9}{ecs\_ret\_t}} (*\mbox{\hyperlink{pico__ecs_8h_a33881de6dde7a1bd0676cd33e5cdce10}{ecs\_update\_fn}})(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs,}
\DoxyCodeLine{111                                    \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}}* entities,}
\DoxyCodeLine{112                                    \textcolor{keywordtype}{int} entity\_count,}
\DoxyCodeLine{113                                    \mbox{\hyperlink{pico__ecs_8h_a7dbffd9b7cd3048225140f3b77db1d52}{ecs\_dt\_t}} dt,}
\DoxyCodeLine{114                                    \textcolor{keywordtype}{void}* udata);}
\DoxyCodeLine{120 \mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* \mbox{\hyperlink{pico__ecs_8h_a028b593d631108467d778cfbb58835d3}{ecs\_new}}(\textcolor{keywordtype}{void}* mem\_ctx);}
\DoxyCodeLine{121 }
\DoxyCodeLine{127 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a5100dc0ecf1b8469b8adcd121879889f}{ecs\_free}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs);}
\DoxyCodeLine{128 }
\DoxyCodeLine{132 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a7cd9788bd017f59965fd6acd76ddc653}{ecs\_reset}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs);}
\DoxyCodeLine{133 }
\DoxyCodeLine{146 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_add268291e1718aafe57dcd7338aa1b3a}{ecs\_register\_component}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id, \textcolor{keywordtype}{int} num\_bytes);}
\DoxyCodeLine{147 }
\DoxyCodeLine{159 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a2d8269289f931ff3d9ceabebe66dbac1}{ecs\_register\_system}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs,}
\DoxyCodeLine{160                          \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id,}
\DoxyCodeLine{161                          \mbox{\hyperlink{pico__ecs_8h_a33881de6dde7a1bd0676cd33e5cdce10}{ecs\_update\_fn}} update\_cb,}
\DoxyCodeLine{162                          \mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4}{ecs\_match\_t}} match,}
\DoxyCodeLine{163                          \textcolor{keywordtype}{void}* udata);}
\DoxyCodeLine{171 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a6b9f2e455b87052ec1fa0d7535b0f2b7}{ecs\_match\_component}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id);}
\DoxyCodeLine{172 }
\DoxyCodeLine{179 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_ac4c75816738e8cd5640f8ae20f02e929}{ecs\_enable\_system}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id);}
\DoxyCodeLine{180 }
\DoxyCodeLine{187 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a0d0b4ee0986e04b6dd1d595dd59f1de0}{ecs\_disable\_system}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id);}
\DoxyCodeLine{188 }
\DoxyCodeLine{196 \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \mbox{\hyperlink{pico__ecs_8h_a6d0a4162459c5597b2d536507787a948}{ecs\_create}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs);}
\DoxyCodeLine{197 }
\DoxyCodeLine{204 \textcolor{keywordtype}{bool} \mbox{\hyperlink{pico__ecs_8h_ab30754c78e4c186da450d1823ec967dc}{ecs\_is\_ready}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id);}
\DoxyCodeLine{205 }
\DoxyCodeLine{214 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a8a6f0997b15f3961be48ea14ddcdb5ca}{ecs\_destroy}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id);}
\DoxyCodeLine{215 }
\DoxyCodeLine{224 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a9c6cfc4c1aa35a30b1caf8a1900d231a}{ecs\_queue\_destroy}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id);}
\DoxyCodeLine{225 }
\DoxyCodeLine{235 \textcolor{keywordtype}{bool} \mbox{\hyperlink{pico__ecs_8h_af0b1f59a9c466128c4328aad2194f197}{ecs\_has}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id);}
\DoxyCodeLine{236 }
\DoxyCodeLine{246 \textcolor{keywordtype}{void}* \mbox{\hyperlink{pico__ecs_8h_ae387eec02f62e7a7028421fdd3413a3f}{ecs\_add}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id);}
\DoxyCodeLine{247 }
\DoxyCodeLine{257 \textcolor{keywordtype}{void}* \mbox{\hyperlink{pico__ecs_8h_aff3c534cfaeaac6036ff45ddb7c45131}{ecs\_get}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id);}
\DoxyCodeLine{258 }
\DoxyCodeLine{266 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_aa570d8aa91e618f4eaf3e7c891d00385}{ecs\_remove}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id);}
\DoxyCodeLine{267 }
\DoxyCodeLine{274 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a4fdb2ae57a817b88b8b113cc2d86560d}{ecs\_sync}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id);}
\DoxyCodeLine{275 }
\DoxyCodeLine{284 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a06f15b51b2e2c9235a3e4fb2f0733756}{ecs\_queue\_sync}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id);}
\DoxyCodeLine{285 }
\DoxyCodeLine{295 \mbox{\hyperlink{pico__ecs_8h_a3479df8429f09e798b32037419f94af9}{ecs\_ret\_t}} \mbox{\hyperlink{pico__ecs_8h_ad066355a98d5125532c4629b867291d8}{ecs\_update\_system}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id, \mbox{\hyperlink{pico__ecs_8h_a7dbffd9b7cd3048225140f3b77db1d52}{ecs\_dt\_t}} dt);}
\DoxyCodeLine{296 }
\DoxyCodeLine{305 \mbox{\hyperlink{pico__ecs_8h_a3479df8429f09e798b32037419f94af9}{ecs\_ret\_t}} \mbox{\hyperlink{pico__ecs_8h_a9a5e245658c52f85685e103b351bbb7b}{ecs\_update\_systems}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_a7dbffd9b7cd3048225140f3b77db1d52}{ecs\_dt\_t}} dt);}
\DoxyCodeLine{306 }
\DoxyCodeLine{307 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{308 \}}
\DoxyCodeLine{309 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{310 }
\DoxyCodeLine{311 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// PICO\_ECS\_H}}
\DoxyCodeLine{312 }
\DoxyCodeLine{313 \textcolor{preprocessor}{\#ifdef ECS\_IMPLEMENTATION }\textcolor{comment}{// Define once}}
\DoxyCodeLine{314 }
\DoxyCodeLine{315 \textcolor{preprocessor}{\#include <stdint.h>} \textcolor{comment}{// uint32\_t}}
\DoxyCodeLine{316 \textcolor{preprocessor}{\#include <stdlib.h>} \textcolor{comment}{// malloc, realloc, free}}
\DoxyCodeLine{317 \textcolor{preprocessor}{\#include <string.h>} \textcolor{comment}{// memcpy, memset}}
\DoxyCodeLine{318 }
\DoxyCodeLine{319 \textcolor{preprocessor}{\#ifndef ECS\_MAX\_COMPONENTS}}
\DoxyCodeLine{320 \textcolor{preprocessor}{\#define ECS\_MAX\_COMPONENTS 16}}
\DoxyCodeLine{321 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{322 }
\DoxyCodeLine{323 \textcolor{preprocessor}{\#ifndef ECS\_MAX\_ENTITIES}}
\DoxyCodeLine{324 \textcolor{preprocessor}{\#define ECS\_MAX\_ENTITIES (8*1024)}}
\DoxyCodeLine{325 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{326 }
\DoxyCodeLine{327 \textcolor{preprocessor}{\#ifndef ECS\_MAX\_SYSTEMS}}
\DoxyCodeLine{328 \textcolor{preprocessor}{\#define ECS\_MAX\_SYSTEMS 16}}
\DoxyCodeLine{329 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{330 }
\DoxyCodeLine{331 \textcolor{preprocessor}{\#ifdef ECS\_DEBUG}}
\DoxyCodeLine{332 \textcolor{preprocessor}{    \#ifndef ECS\_ASSERT}}
\DoxyCodeLine{333 \textcolor{preprocessor}{        \#include <assert.h>}}
\DoxyCodeLine{334 \textcolor{preprocessor}{        \#define ECS\_ASSERT(expr) (assert(expr))}}
\DoxyCodeLine{335 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{336 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{337 \textcolor{preprocessor}{    \#define ECS\_ASSERT(expr) ((void)0)}}
\DoxyCodeLine{338 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{339 }
\DoxyCodeLine{340 \textcolor{preprocessor}{\#if !defined(ECS\_MALLOC) || !defined(ECS\_FREE)}}
\DoxyCodeLine{341 \textcolor{preprocessor}{\#include <stdlib.h>}}
\DoxyCodeLine{342 \textcolor{preprocessor}{\#define ECS\_MALLOC(size, ctx) (malloc(size))}}
\DoxyCodeLine{343 \textcolor{preprocessor}{\#define ECS\_FREE(ptr, ctx)    (free(ptr))}}
\DoxyCodeLine{344 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{345 }
\DoxyCodeLine{346 \textcolor{comment}{/*=============================================================================}}
\DoxyCodeLine{347 \textcolor{comment}{ * Internal data structures}}
\DoxyCodeLine{348 \textcolor{comment}{ *============================================================================*/}}
\DoxyCodeLine{349 }
\DoxyCodeLine{350 \textcolor{preprocessor}{\#if ECS\_MAX\_COMPONENTS <= 32}}
\DoxyCodeLine{351    \textcolor{keyword}{typedef} uint32\_t ecs\_bitset\_t;}
\DoxyCodeLine{352 \textcolor{preprocessor}{\#elif ECS\_MAX\_COMPONENTS <= 64}}
\DoxyCodeLine{353    \textcolor{keyword}{typedef} uint64\_t ecs\_bitset\_t;}
\DoxyCodeLine{354 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{355 \textcolor{preprocessor}{    \#error "{}Too many components"{}}}
\DoxyCodeLine{356 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{357 }
\DoxyCodeLine{358 \textcolor{comment}{// Data-\/structure for a packed array implementation that provides O(1) functions}}
\DoxyCodeLine{359 \textcolor{comment}{// for adding, removing, and accessing entity IDs}}
\DoxyCodeLine{360 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{361 \{}
\DoxyCodeLine{362     \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} size;}
\DoxyCodeLine{363     \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sparse[ECS\_MAX\_ENTITIES];}
\DoxyCodeLine{364     \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} dense[ECS\_MAX\_ENTITIES];}
\DoxyCodeLine{365 \} ecs\_sparse\_set\_t;}
\DoxyCodeLine{366 }
\DoxyCodeLine{367 \textcolor{comment}{// Data-\/structure for and ID pool that provides O(1) operations for}}
\DoxyCodeLine{368 \textcolor{comment}{// pooling/queueing IDs}}
\DoxyCodeLine{369 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{370 \{}
\DoxyCodeLine{371     \textcolor{keywordtype}{int}   size;}
\DoxyCodeLine{372     \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} array[ECS\_MAX\_ENTITIES];}
\DoxyCodeLine{373 \} ecs\_id\_stack\_t;}
\DoxyCodeLine{374 }
\DoxyCodeLine{375 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{376 \{}
\DoxyCodeLine{377     ecs\_bitset\_t comp\_bits;}
\DoxyCodeLine{378     \textcolor{keywordtype}{bool}         ready;}
\DoxyCodeLine{379 \} ecs\_entity\_t;}
\DoxyCodeLine{380 }
\DoxyCodeLine{381 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{382 \{}
\DoxyCodeLine{383     \textcolor{keywordtype}{void}*  array;}
\DoxyCodeLine{384     \textcolor{keywordtype}{int} size;}
\DoxyCodeLine{385     \textcolor{keywordtype}{bool}   ready;}
\DoxyCodeLine{386 \} ecs\_comp\_t;}
\DoxyCodeLine{387 }
\DoxyCodeLine{388 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{389 \{}
\DoxyCodeLine{390     \textcolor{keywordtype}{bool}             ready;}
\DoxyCodeLine{391     \textcolor{keywordtype}{bool}             active;}
\DoxyCodeLine{392     ecs\_sparse\_set\_t entity\_ids;}
\DoxyCodeLine{393     \mbox{\hyperlink{pico__ecs_8h_a33881de6dde7a1bd0676cd33e5cdce10}{ecs\_update\_fn}}    update\_cb;}
\DoxyCodeLine{394     \mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4}{ecs\_match\_t}}      match;}
\DoxyCodeLine{395     ecs\_bitset\_t     comp\_bits;}
\DoxyCodeLine{396     \textcolor{keywordtype}{void}*            udata;}
\DoxyCodeLine{397 \} ecs\_sys\_t;}
\DoxyCodeLine{398 }
\DoxyCodeLine{399 \textcolor{keyword}{struct }ecs\_s}
\DoxyCodeLine{400 \{}
\DoxyCodeLine{401     ecs\_id\_stack\_t entity\_pool;}
\DoxyCodeLine{402     ecs\_id\_stack\_t destroy\_queue;}
\DoxyCodeLine{403     ecs\_id\_stack\_t sync\_queue;}
\DoxyCodeLine{404     ecs\_entity\_t   entities[ECS\_MAX\_ENTITIES];}
\DoxyCodeLine{405     ecs\_comp\_t     comps[ECS\_MAX\_COMPONENTS];}
\DoxyCodeLine{406     ecs\_sys\_t      systems[ECS\_MAX\_SYSTEMS];}
\DoxyCodeLine{407     \textcolor{keywordtype}{void}*          mem\_ctx;}
\DoxyCodeLine{408 \};}
\DoxyCodeLine{409 }
\DoxyCodeLine{410 \textcolor{comment}{/*=============================================================================}}
\DoxyCodeLine{411 \textcolor{comment}{ * Internal functions to flush destroyed entity and removed component}}
\DoxyCodeLine{412 \textcolor{comment}{ *============================================================================*/}}
\DoxyCodeLine{413 \textcolor{keyword}{static} \textcolor{keywordtype}{void} ecs\_flush\_sync(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs);}
\DoxyCodeLine{414 \textcolor{keyword}{static} \textcolor{keywordtype}{void} ecs\_flush\_destroyed(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs);}
\DoxyCodeLine{415 }
\DoxyCodeLine{416 \textcolor{comment}{/*=============================================================================}}
\DoxyCodeLine{417 \textcolor{comment}{ * Internal bit set functions}}
\DoxyCodeLine{418 \textcolor{comment}{ *============================================================================*/}}
\DoxyCodeLine{419 \textcolor{keyword}{static} ecs\_bitset\_t ecs\_bitset\_flip(ecs\_bitset\_t set, \textcolor{keywordtype}{int} bit, \textcolor{keywordtype}{bool} on);}
\DoxyCodeLine{420 \textcolor{keyword}{static} \textcolor{keywordtype}{bool}         ecs\_bitset\_test(ecs\_bitset\_t set, \textcolor{keywordtype}{int} bit);}
\DoxyCodeLine{421 }
\DoxyCodeLine{422 \textcolor{comment}{/*=============================================================================}}
\DoxyCodeLine{423 \textcolor{comment}{ * Internal sparse set functions}}
\DoxyCodeLine{424 \textcolor{comment}{ *============================================================================*/}}
\DoxyCodeLine{425 \textcolor{keyword}{static} \textcolor{keywordtype}{void}     ecs\_sparse\_set\_init(ecs\_sparse\_set\_t* set);}
\DoxyCodeLine{426 \textcolor{keyword}{static} \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} ecs\_sparse\_set\_find(ecs\_sparse\_set\_t* set, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id});}
\DoxyCodeLine{427 \textcolor{keyword}{static} \textcolor{keywordtype}{void}     ecs\_sparse\_set\_add(ecs\_sparse\_set\_t* set, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id});}
\DoxyCodeLine{428 \textcolor{keyword}{static} \textcolor{keywordtype}{void}     ecs\_sparse\_set\_remove(ecs\_sparse\_set\_t* set, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id});}
\DoxyCodeLine{429 }
\DoxyCodeLine{430 \textcolor{comment}{/*=============================================================================}}
\DoxyCodeLine{431 \textcolor{comment}{ * Internal system entity add/remove functions}}
\DoxyCodeLine{432 \textcolor{comment}{ *============================================================================*/}}
\DoxyCodeLine{433 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_entity\_system\_test(\mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4}{ecs\_match\_t}} match,}
\DoxyCodeLine{434                                    ecs\_bitset\_t sys\_bits,}
\DoxyCodeLine{435                                    ecs\_bitset\_t entity\_bits);}
\DoxyCodeLine{436 }
\DoxyCodeLine{437 \textcolor{keyword}{static} \textcolor{keywordtype}{void} ecs\_remove\_entity\_from\_systems(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id);}
\DoxyCodeLine{438 }
\DoxyCodeLine{439 \textcolor{comment}{/*=============================================================================}}
\DoxyCodeLine{440 \textcolor{comment}{ * Internal ID pool functions}}
\DoxyCodeLine{441 \textcolor{comment}{ *============================================================================*/}}
\DoxyCodeLine{442 \textcolor{keyword}{static} \textcolor{keywordtype}{void}     ecs\_id\_stack\_push(ecs\_id\_stack\_t* pool, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id});}
\DoxyCodeLine{443 \textcolor{keyword}{static} \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} ecs\_id\_stack\_pop(ecs\_id\_stack\_t* pool);}
\DoxyCodeLine{444 \textcolor{keyword}{static} \textcolor{keywordtype}{int}      ecs\_id\_stack\_size(ecs\_id\_stack\_t* pool);}
\DoxyCodeLine{445 }
\DoxyCodeLine{446 \textcolor{comment}{/*=============================================================================}}
\DoxyCodeLine{447 \textcolor{comment}{ * Internal validation functions}}
\DoxyCodeLine{448 \textcolor{comment}{ *============================================================================*/}}
\DoxyCodeLine{449 \textcolor{preprocessor}{\#ifdef ECS\_DEBUG}}
\DoxyCodeLine{450 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_is\_not\_null(\textcolor{keywordtype}{void}* ptr);}
\DoxyCodeLine{451 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_is\_valid\_entity\_id(\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id});}
\DoxyCodeLine{452 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_is\_valid\_component\_id(\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id});}
\DoxyCodeLine{453 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_is\_valid\_system\_id(\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id});}
\DoxyCodeLine{454 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_is\_entity\_ready(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id);}
\DoxyCodeLine{455 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_is\_component\_ready(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id);}
\DoxyCodeLine{456 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_is\_system\_ready(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id);}
\DoxyCodeLine{457 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// ECS\_DEBUG}}
\DoxyCodeLine{458 \textcolor{comment}{/*=============================================================================}}
\DoxyCodeLine{459 \textcolor{comment}{ * Public API implementation}}
\DoxyCodeLine{460 \textcolor{comment}{ *============================================================================*/}}
\DoxyCodeLine{461 }
\DoxyCodeLine{462 \mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* \mbox{\hyperlink{pico__ecs_8h_a028b593d631108467d778cfbb58835d3}{ecs\_new}}(\textcolor{keywordtype}{void}* mem\_ctx)}
\DoxyCodeLine{463 \{}
\DoxyCodeLine{464     \mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs = (\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}*)ECS\_MALLOC(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}), mem\_ctx);}
\DoxyCodeLine{465 }
\DoxyCodeLine{466     \textcolor{comment}{// Out of memory}}
\DoxyCodeLine{467     \textcolor{keywordflow}{if} (NULL == ecs)}
\DoxyCodeLine{468         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{469 }
\DoxyCodeLine{470     memset(ecs, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}));}
\DoxyCodeLine{471 }
\DoxyCodeLine{472     ecs-\/>mem\_ctx = mem\_ctx;}
\DoxyCodeLine{473 }
\DoxyCodeLine{474     \textcolor{comment}{// Pre-\/populate the the ID pools}}
\DoxyCodeLine{475     \textcolor{keywordflow}{for} (\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id = 0; entity\_id < ECS\_MAX\_ENTITIES; entity\_id++)}
\DoxyCodeLine{476     \{}
\DoxyCodeLine{477         ecs\_id\_stack\_push(\&ecs-\/>entity\_pool, entity\_id);}
\DoxyCodeLine{478     \}}
\DoxyCodeLine{479 }
\DoxyCodeLine{480     \textcolor{keywordflow}{return} ecs;}
\DoxyCodeLine{481 \}}
\DoxyCodeLine{482 }
\DoxyCodeLine{483 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a5100dc0ecf1b8469b8adcd121879889f}{ecs\_free}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs)}
\DoxyCodeLine{484 \{}
\DoxyCodeLine{485     ECS\_ASSERT(is\_not\_null(ecs));}
\DoxyCodeLine{486 }
\DoxyCodeLine{487     \textcolor{keywordflow}{for} (\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id = 0; comp\_id < ECS\_MAX\_COMPONENTS; comp\_id++)}
\DoxyCodeLine{488     \{}
\DoxyCodeLine{489         \textcolor{keywordflow}{if} (NULL != ecs-\/>comps[comp\_id].array)}
\DoxyCodeLine{490         \{}
\DoxyCodeLine{491             ECS\_FREE(ecs-\/>comps[comp\_id].array, ecs-\/>mem\_ctx);}
\DoxyCodeLine{492         \}}
\DoxyCodeLine{493     \}}
\DoxyCodeLine{494 }
\DoxyCodeLine{495     ECS\_FREE(ecs, ecs-\/>mem\_ctx);}
\DoxyCodeLine{496 \}}
\DoxyCodeLine{497 }
\DoxyCodeLine{498 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a7cd9788bd017f59965fd6acd76ddc653}{ecs\_reset}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs)}
\DoxyCodeLine{499 \{}
\DoxyCodeLine{500     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{501 }
\DoxyCodeLine{502     ecs-\/>entity\_pool.size = 0;}
\DoxyCodeLine{503     ecs-\/>destroy\_queue.size = 0;}
\DoxyCodeLine{504     ecs-\/>sync\_queue.size = 0;}
\DoxyCodeLine{505 }
\DoxyCodeLine{506     memset(ecs-\/>entities, 0, \textcolor{keyword}{sizeof}(ecs\_entity\_t) * ECS\_MAX\_ENTITIES);}
\DoxyCodeLine{507 }
\DoxyCodeLine{508     \textcolor{keywordflow}{for} (\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id = 0; entity\_id < ECS\_MAX\_ENTITIES; entity\_id++)}
\DoxyCodeLine{509     \{}
\DoxyCodeLine{510         ecs\_id\_stack\_push(\&ecs-\/>entity\_pool, entity\_id);}
\DoxyCodeLine{511     \}}
\DoxyCodeLine{512 }
\DoxyCodeLine{513     \textcolor{keywordflow}{for} (\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id = 0; sys\_id < ECS\_MAX\_SYSTEMS; sys\_id++)}
\DoxyCodeLine{514     \{}
\DoxyCodeLine{515         ecs\_sparse\_set\_init(\&ecs-\/>systems[sys\_id].entity\_ids);}
\DoxyCodeLine{516     \}}
\DoxyCodeLine{517 \}}
\DoxyCodeLine{518 }
\DoxyCodeLine{519 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_add268291e1718aafe57dcd7338aa1b3a}{ecs\_register\_component}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id, \textcolor{keywordtype}{int} num\_bytes)}
\DoxyCodeLine{520 \{}
\DoxyCodeLine{521     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{522     ECS\_ASSERT(ecs\_is\_valid\_component\_id(comp\_id));}
\DoxyCodeLine{523     ECS\_ASSERT(!ecs\_is\_component\_ready(ecs, comp\_id));}
\DoxyCodeLine{524 }
\DoxyCodeLine{525     ecs\_comp\_t* comp = \&ecs-\/>comps[comp\_id];}
\DoxyCodeLine{526 }
\DoxyCodeLine{527     comp-\/>array = ECS\_MALLOC(ECS\_MAX\_ENTITIES * num\_bytes, ecs-\/>mem\_ctx);}
\DoxyCodeLine{528     comp-\/>size  = num\_bytes;}
\DoxyCodeLine{529     comp-\/>ready = \textcolor{keyword}{true};}
\DoxyCodeLine{530 \}}
\DoxyCodeLine{531 }
\DoxyCodeLine{532 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a2d8269289f931ff3d9ceabebe66dbac1}{ecs\_register\_system}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs,}
\DoxyCodeLine{533                          \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id,}
\DoxyCodeLine{534                          \mbox{\hyperlink{pico__ecs_8h_a33881de6dde7a1bd0676cd33e5cdce10}{ecs\_update\_fn}} update\_cb,}
\DoxyCodeLine{535                          \mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4}{ecs\_match\_t}} match,}
\DoxyCodeLine{536                          \textcolor{keywordtype}{void}* udata)}
\DoxyCodeLine{537 \{}
\DoxyCodeLine{538     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{539     ECS\_ASSERT(ecs\_is\_valid\_system\_id(sys\_id));}
\DoxyCodeLine{540     ECS\_ASSERT(!ecs\_is\_system\_ready(ecs, sys\_id));}
\DoxyCodeLine{541     ECS\_ASSERT(NULL != update\_cb);}
\DoxyCodeLine{542 }
\DoxyCodeLine{543     ecs\_sys\_t* sys = \&ecs-\/>systems[sys\_id];}
\DoxyCodeLine{544 }
\DoxyCodeLine{545     ecs\_sparse\_set\_init(\&sys-\/>entity\_ids);}
\DoxyCodeLine{546 }
\DoxyCodeLine{547     sys-\/>ready = \textcolor{keyword}{true};}
\DoxyCodeLine{548     sys-\/>active = \textcolor{keyword}{true};}
\DoxyCodeLine{549     sys-\/>update\_cb = update\_cb;}
\DoxyCodeLine{550     sys-\/>match = match;}
\DoxyCodeLine{551     sys-\/>udata = udata;}
\DoxyCodeLine{552 \}}
\DoxyCodeLine{553 }
\DoxyCodeLine{554 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a6b9f2e455b87052ec1fa0d7535b0f2b7}{ecs\_match\_component}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id)}
\DoxyCodeLine{555 \{}
\DoxyCodeLine{556     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{557     ECS\_ASSERT(ecs\_is\_valid\_system\_id(sys\_id));}
\DoxyCodeLine{558     ECS\_ASSERT(ecs\_is\_valid\_component\_id(comp\_id));}
\DoxyCodeLine{559     ECS\_ASSERT(ecs\_is\_system\_ready(ecs, sys\_id));}
\DoxyCodeLine{560     ECS\_ASSERT(ecs\_is\_component\_ready(ecs, comp\_id));}
\DoxyCodeLine{561 }
\DoxyCodeLine{562     \textcolor{comment}{// Load system}}
\DoxyCodeLine{563     ecs\_sys\_t* sys = \&ecs-\/>systems[sys\_id];}
\DoxyCodeLine{564 }
\DoxyCodeLine{565     \textcolor{comment}{// Set system component bit for the specified component}}
\DoxyCodeLine{566     sys-\/>comp\_bits = ecs\_bitset\_flip(sys-\/>comp\_bits, comp\_id, \textcolor{keyword}{true});}
\DoxyCodeLine{567 \}}
\DoxyCodeLine{568 }
\DoxyCodeLine{569 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_ac4c75816738e8cd5640f8ae20f02e929}{ecs\_enable\_system}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id)}
\DoxyCodeLine{570 \{}
\DoxyCodeLine{571     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{572     ECS\_ASSERT(ecs\_is\_valid\_system\_id(sys\_id));}
\DoxyCodeLine{573     ECS\_ASSERT(ecs\_is\_system\_ready(ecs, sys\_id));}
\DoxyCodeLine{574 }
\DoxyCodeLine{575     ecs\_sys\_t* sys = \&ecs-\/>systems[sys\_id];}
\DoxyCodeLine{576     sys-\/>active = \textcolor{keyword}{true};}
\DoxyCodeLine{577 \}}
\DoxyCodeLine{578 }
\DoxyCodeLine{579 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a0d0b4ee0986e04b6dd1d595dd59f1de0}{ecs\_disable\_system}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id)}
\DoxyCodeLine{580 \{}
\DoxyCodeLine{581     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{582     ECS\_ASSERT(ecs\_is\_valid\_system\_id(sys\_id));}
\DoxyCodeLine{583     ECS\_ASSERT(ecs\_is\_system\_ready(ecs, sys\_id));}
\DoxyCodeLine{584 }
\DoxyCodeLine{585     ecs\_sys\_t* sys = \&ecs-\/>systems[sys\_id];}
\DoxyCodeLine{586     sys-\/>active = \textcolor{keyword}{false};}
\DoxyCodeLine{587 \}}
\DoxyCodeLine{588 }
\DoxyCodeLine{589 \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \mbox{\hyperlink{pico__ecs_8h_a6d0a4162459c5597b2d536507787a948}{ecs\_create}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs)}
\DoxyCodeLine{590 \{}
\DoxyCodeLine{591     ECS\_ASSERT(is\_not\_null(ecs));}
\DoxyCodeLine{592 }
\DoxyCodeLine{593     ecs\_id\_stack\_t* pool = \&ecs-\/>entity\_pool;}
\DoxyCodeLine{594 }
\DoxyCodeLine{595     ECS\_ASSERT(ecs\_id\_stack\_size(pool) > 0);}
\DoxyCodeLine{596 }
\DoxyCodeLine{597     \textcolor{keywordflow}{if} (0 == ecs\_id\_stack\_size(pool))}
\DoxyCodeLine{598         \textcolor{keywordflow}{return} ECS\_NULL;}
\DoxyCodeLine{599 }
\DoxyCodeLine{600     \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id = ecs\_id\_stack\_pop(pool);}
\DoxyCodeLine{601     ecs-\/>entities[entity\_id].ready = \textcolor{keyword}{true};}
\DoxyCodeLine{602 }
\DoxyCodeLine{603     \textcolor{keywordflow}{return} entity\_id;}
\DoxyCodeLine{604 \}}
\DoxyCodeLine{605 }
\DoxyCodeLine{606 \textcolor{keywordtype}{bool} \mbox{\hyperlink{pico__ecs_8h_ab30754c78e4c186da450d1823ec967dc}{ecs\_is\_ready}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id)}
\DoxyCodeLine{607 \{}
\DoxyCodeLine{608     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{609     ECS\_ASSERT(ecs\_is\_valid\_entity\_id(entity\_id));}
\DoxyCodeLine{610 }
\DoxyCodeLine{611     \textcolor{keywordflow}{return} ecs-\/>entities[entity\_id].ready;}
\DoxyCodeLine{612 \}}
\DoxyCodeLine{613 }
\DoxyCodeLine{614 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a8a6f0997b15f3961be48ea14ddcdb5ca}{ecs\_destroy}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id)}
\DoxyCodeLine{615 \{}
\DoxyCodeLine{616     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{617     ECS\_ASSERT(ecs\_is\_valid\_entity\_id(entity\_id));}
\DoxyCodeLine{618     ECS\_ASSERT(ecs\_is\_entity\_ready(ecs, entity\_id));}
\DoxyCodeLine{619 }
\DoxyCodeLine{620     \textcolor{comment}{// Load entity}}
\DoxyCodeLine{621     ecs\_entity\_t* entity = \&ecs-\/>entities[entity\_id];}
\DoxyCodeLine{622 }
\DoxyCodeLine{623     \textcolor{comment}{// Remove entity from systems}}
\DoxyCodeLine{624     ecs\_remove\_entity\_from\_systems(ecs, entity\_id);}
\DoxyCodeLine{625 }
\DoxyCodeLine{626     \textcolor{comment}{// Push entity ID back into pool}}
\DoxyCodeLine{627     ecs\_id\_stack\_t* pool = \&ecs-\/>entity\_pool;}
\DoxyCodeLine{628     ecs\_id\_stack\_push(pool, entity\_id);}
\DoxyCodeLine{629 }
\DoxyCodeLine{630     \textcolor{comment}{// Reset entity}}
\DoxyCodeLine{631     memset(entity, 0, \textcolor{keyword}{sizeof}(ecs\_entity\_t));}
\DoxyCodeLine{632 \}}
\DoxyCodeLine{633 }
\DoxyCodeLine{634 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a9c6cfc4c1aa35a30b1caf8a1900d231a}{ecs\_queue\_destroy}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id)}
\DoxyCodeLine{635 \{}
\DoxyCodeLine{636     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{637     ECS\_ASSERT(ecs\_is\_valid\_entity\_id(entity\_id));}
\DoxyCodeLine{638     ECS\_ASSERT(ecs\_is\_entity\_ready(ecs, entity\_id));}
\DoxyCodeLine{639 }
\DoxyCodeLine{640     \textcolor{comment}{// Push entity ID onto destroy\_queue}}
\DoxyCodeLine{641     ecs\_id\_stack\_push(\&ecs-\/>destroy\_queue, entity\_id);}
\DoxyCodeLine{642 }
\DoxyCodeLine{643     ecs-\/>entities[entity\_id].ready = \textcolor{keyword}{false};}
\DoxyCodeLine{644 \}}
\DoxyCodeLine{645 }
\DoxyCodeLine{646 \textcolor{keywordtype}{bool} \mbox{\hyperlink{pico__ecs_8h_af0b1f59a9c466128c4328aad2194f197}{ecs\_has}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id)}
\DoxyCodeLine{647 \{}
\DoxyCodeLine{648     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{649     ECS\_ASSERT(ecs\_is\_valid\_entity\_id(entity\_id));}
\DoxyCodeLine{650     ECS\_ASSERT(ecs\_is\_valid\_component\_id(comp\_id));}
\DoxyCodeLine{651     ECS\_ASSERT(ecs\_is\_entity\_ready(ecs, entity\_id));}
\DoxyCodeLine{652 }
\DoxyCodeLine{653     \textcolor{comment}{// Load  entity}}
\DoxyCodeLine{654     ecs\_entity\_t* entity = \&ecs-\/>entities[entity\_id];}
\DoxyCodeLine{655 }
\DoxyCodeLine{656     \textcolor{comment}{// Return true if the component belongs to the entity}}
\DoxyCodeLine{657     \textcolor{keywordflow}{return} ecs\_bitset\_test(entity-\/>comp\_bits, comp\_id);}
\DoxyCodeLine{658 \}}
\DoxyCodeLine{659 }
\DoxyCodeLine{660 \textcolor{keywordtype}{void}* \mbox{\hyperlink{pico__ecs_8h_aff3c534cfaeaac6036ff45ddb7c45131}{ecs\_get}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id)}
\DoxyCodeLine{661 \{}
\DoxyCodeLine{662     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{663     ECS\_ASSERT(ecs\_is\_valid\_entity\_id(entity\_id));}
\DoxyCodeLine{664     ECS\_ASSERT(ecs\_is\_valid\_component\_id(comp\_id));}
\DoxyCodeLine{665     ECS\_ASSERT(ecs\_is\_component\_ready(ecs, comp\_id));}
\DoxyCodeLine{666     ECS\_ASSERT(ecs\_is\_entity\_ready(ecs, entity\_id));}
\DoxyCodeLine{667 }
\DoxyCodeLine{668     \textcolor{comment}{// Return pointer to component}}
\DoxyCodeLine{669     ecs\_comp\_t* comp = \&ecs-\/>comps[comp\_id]; \textcolor{comment}{//  eid0,  eid1   eid2, ...}}
\DoxyCodeLine{670                                              \textcolor{comment}{// [comp0, comp1, comp2, ...]}}
\DoxyCodeLine{671     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{char}*)comp-\/>array + (comp-\/>size * entity\_id);}
\DoxyCodeLine{672 \}}
\DoxyCodeLine{673 }
\DoxyCodeLine{674 \textcolor{keywordtype}{void}* \mbox{\hyperlink{pico__ecs_8h_ae387eec02f62e7a7028421fdd3413a3f}{ecs\_add}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id)}
\DoxyCodeLine{675 \{}
\DoxyCodeLine{676     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{677     ECS\_ASSERT(ecs\_is\_valid\_entity\_id(entity\_id));}
\DoxyCodeLine{678     ECS\_ASSERT(ecs\_is\_valid\_component\_id(comp\_id));}
\DoxyCodeLine{679     ECS\_ASSERT(ecs\_is\_entity\_ready(ecs, entity\_id));}
\DoxyCodeLine{680     ECS\_ASSERT(ecs\_is\_component\_ready(ecs, comp\_id));}
\DoxyCodeLine{681 }
\DoxyCodeLine{682     \textcolor{comment}{// Load entity}}
\DoxyCodeLine{683     ecs\_entity\_t* entity = \&ecs-\/>entities[entity\_id];}
\DoxyCodeLine{684 }
\DoxyCodeLine{685     \textcolor{comment}{// Set entity component bit that determines which systems this entity}}
\DoxyCodeLine{686     \textcolor{comment}{// belongs to}}
\DoxyCodeLine{687     entity-\/>comp\_bits = ecs\_bitset\_flip(entity-\/>comp\_bits, comp\_id, \textcolor{keyword}{true});}
\DoxyCodeLine{688 }
\DoxyCodeLine{689     \textcolor{comment}{// Return pointer to component}}
\DoxyCodeLine{690     \textcolor{keywordflow}{return} \mbox{\hyperlink{pico__ecs_8h_aff3c534cfaeaac6036ff45ddb7c45131}{ecs\_get}}(ecs, entity\_id, comp\_id);}
\DoxyCodeLine{691 \}}
\DoxyCodeLine{692 }
\DoxyCodeLine{693 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_aa570d8aa91e618f4eaf3e7c891d00385}{ecs\_remove}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id)}
\DoxyCodeLine{694 \{}
\DoxyCodeLine{695     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{696     ECS\_ASSERT(ecs\_is\_valid\_entity\_id(entity\_id));}
\DoxyCodeLine{697     ECS\_ASSERT(ecs\_is\_valid\_component\_id(comp\_id));}
\DoxyCodeLine{698     ECS\_ASSERT(ecs\_is\_component\_ready(ecs, comp\_id));}
\DoxyCodeLine{699     ECS\_ASSERT(ecs\_is\_entity\_ready(ecs, entity\_id));}
\DoxyCodeLine{700 }
\DoxyCodeLine{701     \textcolor{comment}{// Load entity}}
\DoxyCodeLine{702     ecs\_entity\_t* entity = \&ecs-\/>entities[entity\_id];}
\DoxyCodeLine{703 }
\DoxyCodeLine{704     \textcolor{comment}{// Reset the relevant component mask bit}}
\DoxyCodeLine{705     entity-\/>comp\_bits = ecs\_bitset\_flip(entity-\/>comp\_bits, comp\_id, \textcolor{keyword}{false});}
\DoxyCodeLine{706 \}}
\DoxyCodeLine{707 }
\DoxyCodeLine{708 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a4fdb2ae57a817b88b8b113cc2d86560d}{ecs\_sync}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id)}
\DoxyCodeLine{709 \{}
\DoxyCodeLine{710     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{711     ECS\_ASSERT(ecs\_is\_valid\_entity\_id(entity\_id));}
\DoxyCodeLine{712     ECS\_ASSERT(ecs\_is\_entity\_ready(ecs, entity\_id));}
\DoxyCodeLine{713 }
\DoxyCodeLine{714     ecs\_bitset\_t entity\_bits = ecs-\/>entities[entity\_id].comp\_bits;}
\DoxyCodeLine{715 }
\DoxyCodeLine{716     \textcolor{keywordflow}{for} (\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id = 0; sys\_id < ECS\_MAX\_SYSTEMS; sys\_id++)}
\DoxyCodeLine{717     \{}
\DoxyCodeLine{718         \textcolor{keywordflow}{if} (!ecs-\/>systems[sys\_id].ready)}
\DoxyCodeLine{719             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{720 }
\DoxyCodeLine{721         ecs\_sys\_t* sys = \&ecs-\/>systems[sys\_id];}
\DoxyCodeLine{722 }
\DoxyCodeLine{723         \textcolor{keywordflow}{if} (ecs\_entity\_system\_test(sys-\/>match, sys-\/>comp\_bits, entity\_bits))}
\DoxyCodeLine{724             ecs\_sparse\_set\_add(\&sys-\/>entity\_ids, entity\_id);}
\DoxyCodeLine{725         \textcolor{keywordflow}{else}}
\DoxyCodeLine{726             ecs\_sparse\_set\_remove(\&sys-\/>entity\_ids, entity\_id);}
\DoxyCodeLine{727     \}}
\DoxyCodeLine{728 \}}
\DoxyCodeLine{729 }
\DoxyCodeLine{730 \textcolor{keywordtype}{void} \mbox{\hyperlink{pico__ecs_8h_a06f15b51b2e2c9235a3e4fb2f0733756}{ecs\_queue\_sync}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id)}
\DoxyCodeLine{731 \{}
\DoxyCodeLine{732     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{733     ECS\_ASSERT(ecs\_is\_valid\_entity\_id(entity\_id));}
\DoxyCodeLine{734     ECS\_ASSERT(ecs\_is\_entity\_ready(ecs, entity\_id));}
\DoxyCodeLine{735 }
\DoxyCodeLine{736     \textcolor{comment}{// Push both component and entities onto ID stacks}}
\DoxyCodeLine{737     ecs\_id\_stack\_push(\&ecs-\/>sync\_queue, entity\_id);}
\DoxyCodeLine{738 \}}
\DoxyCodeLine{739 }
\DoxyCodeLine{740 \mbox{\hyperlink{pico__ecs_8h_a3479df8429f09e798b32037419f94af9}{ecs\_ret\_t}} \mbox{\hyperlink{pico__ecs_8h_ad066355a98d5125532c4629b867291d8}{ecs\_update\_system}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id, \mbox{\hyperlink{pico__ecs_8h_a7dbffd9b7cd3048225140f3b77db1d52}{ecs\_dt\_t}} dt)}
\DoxyCodeLine{741 \{}
\DoxyCodeLine{742     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{743     ECS\_ASSERT(ecs\_is\_valid\_system\_id(sys\_id));}
\DoxyCodeLine{744     ECS\_ASSERT(ecs\_is\_system\_ready(ecs, sys\_id));}
\DoxyCodeLine{745     ECS\_ASSERT(dt >= 0.0f);}
\DoxyCodeLine{746 }
\DoxyCodeLine{747     ecs\_sys\_t* sys = \&ecs-\/>systems[sys\_id];}
\DoxyCodeLine{748 }
\DoxyCodeLine{749     \textcolor{keywordflow}{if} (!sys-\/>active)}
\DoxyCodeLine{750         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{751 }
\DoxyCodeLine{752     \mbox{\hyperlink{pico__ecs_8h_a3479df8429f09e798b32037419f94af9}{ecs\_ret\_t}} code = sys-\/>update\_cb(ecs,}
\DoxyCodeLine{753                      sys-\/>entity\_ids.dense,}
\DoxyCodeLine{754                      sys-\/>entity\_ids.size,}
\DoxyCodeLine{755                      dt,}
\DoxyCodeLine{756                      sys-\/>udata);}
\DoxyCodeLine{757 }
\DoxyCodeLine{758     ecs\_flush\_sync(ecs);}
\DoxyCodeLine{759     ecs\_flush\_destroyed(ecs);}
\DoxyCodeLine{760 }
\DoxyCodeLine{761     \textcolor{keywordflow}{return} code;}
\DoxyCodeLine{762 \}}
\DoxyCodeLine{763 }
\DoxyCodeLine{764 \mbox{\hyperlink{pico__ecs_8h_a3479df8429f09e798b32037419f94af9}{ecs\_ret\_t}} \mbox{\hyperlink{pico__ecs_8h_a9a5e245658c52f85685e103b351bbb7b}{ecs\_update\_systems}}(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_a7dbffd9b7cd3048225140f3b77db1d52}{ecs\_dt\_t}} dt)}
\DoxyCodeLine{765 \{}
\DoxyCodeLine{766     ECS\_ASSERT(ecs\_is\_not\_null(ecs));}
\DoxyCodeLine{767     ECS\_ASSERT(dt >= 0.0f);}
\DoxyCodeLine{768 }
\DoxyCodeLine{769     \textcolor{keywordflow}{for} (\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id = 0; sys\_id < ECS\_MAX\_SYSTEMS; sys\_id++)}
\DoxyCodeLine{770     \{}
\DoxyCodeLine{771         ecs\_sys\_t* sys = \&ecs-\/>systems[sys\_id];}
\DoxyCodeLine{772 }
\DoxyCodeLine{773         \textcolor{keywordflow}{if} (!sys-\/>ready)}
\DoxyCodeLine{774             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{775 }
\DoxyCodeLine{776         \mbox{\hyperlink{pico__ecs_8h_a3479df8429f09e798b32037419f94af9}{ecs\_ret\_t}} code = \mbox{\hyperlink{pico__ecs_8h_ad066355a98d5125532c4629b867291d8}{ecs\_update\_system}}(ecs, sys\_id, dt);}
\DoxyCodeLine{777 }
\DoxyCodeLine{778         \textcolor{keywordflow}{if} (0 != code)}
\DoxyCodeLine{779             \textcolor{keywordflow}{return} code;}
\DoxyCodeLine{780     \}}
\DoxyCodeLine{781 }
\DoxyCodeLine{782     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{783 \}}
\DoxyCodeLine{784 }
\DoxyCodeLine{785 \textcolor{comment}{/*=============================================================================}}
\DoxyCodeLine{786 \textcolor{comment}{ * Internal functions to flush destroyed entity and removed component}}
\DoxyCodeLine{787 \textcolor{comment}{ *============================================================================*/}}
\DoxyCodeLine{788 }
\DoxyCodeLine{789 \textcolor{keyword}{static} \textcolor{keywordtype}{void} ecs\_flush\_sync(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs)}
\DoxyCodeLine{790 \{}
\DoxyCodeLine{791     ecs\_id\_stack\_t* entities = \&ecs-\/>sync\_queue;}
\DoxyCodeLine{792 }
\DoxyCodeLine{793     \textcolor{keywordflow}{while} (ecs\_id\_stack\_size(entities) > 0)}
\DoxyCodeLine{794     \{}
\DoxyCodeLine{795         \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id = ecs\_id\_stack\_pop(entities);}
\DoxyCodeLine{796         \mbox{\hyperlink{pico__ecs_8h_a4fdb2ae57a817b88b8b113cc2d86560d}{ecs\_sync}}(ecs, entity\_id);}
\DoxyCodeLine{797     \}}
\DoxyCodeLine{798 \}}
\DoxyCodeLine{799 }
\DoxyCodeLine{800 \textcolor{keyword}{static} \textcolor{keywordtype}{void} ecs\_flush\_destroyed(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs)}
\DoxyCodeLine{801 \{}
\DoxyCodeLine{802     ecs\_id\_stack\_t* entities = \&ecs-\/>destroy\_queue;}
\DoxyCodeLine{803 }
\DoxyCodeLine{804     \textcolor{keywordflow}{while} (ecs\_id\_stack\_size(entities) > 0)}
\DoxyCodeLine{805     \{}
\DoxyCodeLine{806         \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id = ecs\_id\_stack\_pop(entities);}
\DoxyCodeLine{807         ecs-\/>entities[entity\_id].ready = \textcolor{keyword}{true}; \textcolor{comment}{// FIXME: this is a hack}}
\DoxyCodeLine{808         \mbox{\hyperlink{pico__ecs_8h_a8a6f0997b15f3961be48ea14ddcdb5ca}{ecs\_destroy}}(ecs, entity\_id);}
\DoxyCodeLine{809     \}}
\DoxyCodeLine{810 \}}
\DoxyCodeLine{811 }
\DoxyCodeLine{812 \textcolor{comment}{/*=============================================================================}}
\DoxyCodeLine{813 \textcolor{comment}{ * Internal bitset functions}}
\DoxyCodeLine{814 \textcolor{comment}{ *============================================================================*/}}
\DoxyCodeLine{815 }
\DoxyCodeLine{816 \textcolor{keyword}{static} ecs\_bitset\_t ecs\_bitset\_flip(ecs\_bitset\_t set, \textcolor{keywordtype}{int} bit, \textcolor{keywordtype}{bool} on)}
\DoxyCodeLine{817 \{}
\DoxyCodeLine{818     \textcolor{keywordflow}{if} (on)}
\DoxyCodeLine{819         set |=  (1 << bit);}
\DoxyCodeLine{820     \textcolor{keywordflow}{else}}
\DoxyCodeLine{821         set \&= \string~(1 << bit);}
\DoxyCodeLine{822 }
\DoxyCodeLine{823     \textcolor{keywordflow}{return} set;}
\DoxyCodeLine{824 \}}
\DoxyCodeLine{825 }
\DoxyCodeLine{826 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_bitset\_test(ecs\_bitset\_t set, \textcolor{keywordtype}{int} bit)}
\DoxyCodeLine{827 \{}
\DoxyCodeLine{828     \textcolor{keywordflow}{return} set \& (1 << bit);}
\DoxyCodeLine{829 \}}
\DoxyCodeLine{830 }
\DoxyCodeLine{831 \textcolor{comment}{/*=============================================================================}}
\DoxyCodeLine{832 \textcolor{comment}{ * Internal sparse set functions}}
\DoxyCodeLine{833 \textcolor{comment}{ *============================================================================*/}}
\DoxyCodeLine{834 }
\DoxyCodeLine{835 \textcolor{keyword}{static} \textcolor{keywordtype}{void} ecs\_sparse\_set\_init(ecs\_sparse\_set\_t* set)}
\DoxyCodeLine{836 \{}
\DoxyCodeLine{837     ECS\_ASSERT(is\_not\_null(set));}
\DoxyCodeLine{838 }
\DoxyCodeLine{839     memset(set, 0, \textcolor{keyword}{sizeof}(ecs\_sparse\_set\_t));}
\DoxyCodeLine{840 }
\DoxyCodeLine{841     \textcolor{keywordflow}{for} (\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id} = 0; \textcolor{keywordtype}{id} < ECS\_MAX\_ENTITIES; \textcolor{keywordtype}{id}++)}
\DoxyCodeLine{842     \{}
\DoxyCodeLine{843         set-\/>sparse[id] = ECS\_NULL;}
\DoxyCodeLine{844     \}}
\DoxyCodeLine{845 \}}
\DoxyCodeLine{846 }
\DoxyCodeLine{847 \textcolor{keyword}{static} \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} ecs\_sparse\_set\_find(ecs\_sparse\_set\_t* set, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id})}
\DoxyCodeLine{848 \{}
\DoxyCodeLine{849     ECS\_ASSERT(is\_not\_null(set));}
\DoxyCodeLine{850 }
\DoxyCodeLine{851     \textcolor{keywordflow}{if} (set-\/>sparse[\textcolor{keywordtype}{id}] < set-\/>size \&\& set-\/>dense[set-\/>sparse[\textcolor{keywordtype}{id}]] == \textcolor{keywordtype}{id})}
\DoxyCodeLine{852         \textcolor{keywordflow}{return} set-\/>sparse[id];}
\DoxyCodeLine{853     \textcolor{keywordflow}{else}}
\DoxyCodeLine{854         \textcolor{keywordflow}{return} ECS\_NULL;}
\DoxyCodeLine{855 \}}
\DoxyCodeLine{856 }
\DoxyCodeLine{857 \textcolor{keyword}{static} \textcolor{keywordtype}{void} ecs\_sparse\_set\_add(ecs\_sparse\_set\_t* set, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id})}
\DoxyCodeLine{858 \{}
\DoxyCodeLine{859     ECS\_ASSERT(is\_not\_null(set));}
\DoxyCodeLine{860 }
\DoxyCodeLine{861     \textcolor{keywordflow}{if} (ECS\_NULL != ecs\_sparse\_set\_find(set, \textcolor{keywordtype}{id}))}
\DoxyCodeLine{862         \textcolor{keywordflow}{return};}
\DoxyCodeLine{863 }
\DoxyCodeLine{864     set-\/>dense[set-\/>size] = id;}
\DoxyCodeLine{865     set-\/>sparse[id] = set-\/>size;}
\DoxyCodeLine{866 }
\DoxyCodeLine{867     set-\/>size++;}
\DoxyCodeLine{868 \}}
\DoxyCodeLine{869 }
\DoxyCodeLine{870 \textcolor{keyword}{static} \textcolor{keywordtype}{void} ecs\_sparse\_set\_remove(ecs\_sparse\_set\_t* set, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id})}
\DoxyCodeLine{871 \{}
\DoxyCodeLine{872     ECS\_ASSERT(is\_not\_null(set));}
\DoxyCodeLine{873 }
\DoxyCodeLine{874     \textcolor{keywordflow}{if} (ECS\_NULL == ecs\_sparse\_set\_find(set, \textcolor{keywordtype}{id}))}
\DoxyCodeLine{875         \textcolor{keywordflow}{return};}
\DoxyCodeLine{876 }
\DoxyCodeLine{877     \textcolor{comment}{// Swap and remove (changes order of array)}}
\DoxyCodeLine{878     \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} tmp = set-\/>dense[set-\/>size -\/ 1];}
\DoxyCodeLine{879     set-\/>dense[set-\/>sparse[id]] = tmp;}
\DoxyCodeLine{880     set-\/>sparse[tmp] = set-\/>sparse[id];}
\DoxyCodeLine{881 }
\DoxyCodeLine{882     set-\/>size-\/-\/;}
\DoxyCodeLine{883 \}}
\DoxyCodeLine{884 }
\DoxyCodeLine{885 \textcolor{comment}{/*=============================================================================}}
\DoxyCodeLine{886 \textcolor{comment}{ * Internal system entity add/remove functions}}
\DoxyCodeLine{887 \textcolor{comment}{ *============================================================================*/}}
\DoxyCodeLine{888 }
\DoxyCodeLine{889 \textcolor{keyword}{inline} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_entity\_system\_test(\mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4}{ecs\_match\_t}} match,}
\DoxyCodeLine{890                                           ecs\_bitset\_t sys\_bits,}
\DoxyCodeLine{891                                           ecs\_bitset\_t entity\_bits)}
\DoxyCodeLine{892 \{}
\DoxyCodeLine{893     \textcolor{keywordflow}{switch} (match)}
\DoxyCodeLine{894     \{}
\DoxyCodeLine{895         \textcolor{keywordflow}{case} \mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4a311df3abe50dba61204c17ab59066402}{ECS\_MATCH\_NONE}}:}
\DoxyCodeLine{896             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{897 }
\DoxyCodeLine{898         \textcolor{keywordflow}{case} \mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4a98da0f1359e542232651fd3a1dd209ec}{ECS\_MATCH\_ALL}}:}
\DoxyCodeLine{899             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{900 }
\DoxyCodeLine{901         \textcolor{keywordflow}{case} \mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4a10b2c2899ef0a375dc222568a9b24bd2}{ECS\_MATCH\_ANY}}:}
\DoxyCodeLine{902             \textcolor{keywordflow}{return} sys\_bits \& entity\_bits;}
\DoxyCodeLine{903 }
\DoxyCodeLine{904         \textcolor{keywordflow}{case} \mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4a704e02f4a8bc3682185022aa9fd26e60}{ECS\_MATCH\_REQUIRED}}:}
\DoxyCodeLine{905             \textcolor{keywordflow}{return} sys\_bits == (sys\_bits \& entity\_bits);}
\DoxyCodeLine{906 }
\DoxyCodeLine{907         \textcolor{keywordflow}{case} \mbox{\hyperlink{pico__ecs_8h_ad14dcbd2ac557adee59752dd12442af4a3fe50a89d4eaa719f9055bdb31f7009f}{ECS\_MATCH\_EXACT}}:}
\DoxyCodeLine{908             \textcolor{keywordflow}{return} sys\_bits == entity\_bits;}
\DoxyCodeLine{909 }
\DoxyCodeLine{910         \textcolor{keywordflow}{default}:}
\DoxyCodeLine{911             ECS\_ASSERT(\textcolor{keyword}{false});}
\DoxyCodeLine{912             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{913     \}}
\DoxyCodeLine{914 \}}
\DoxyCodeLine{915 }
\DoxyCodeLine{916 \textcolor{keyword}{static} \textcolor{keywordtype}{void} ecs\_remove\_entity\_from\_systems(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id)}
\DoxyCodeLine{917 \{}
\DoxyCodeLine{918     ECS\_ASSERT(is\_not\_null(ecs));}
\DoxyCodeLine{919 }
\DoxyCodeLine{920     \textcolor{keywordflow}{for} (\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id = 0; sys\_id < ECS\_MAX\_SYSTEMS; sys\_id++)}
\DoxyCodeLine{921     \{}
\DoxyCodeLine{922         \textcolor{keywordflow}{if} (!ecs-\/>systems[sys\_id].ready)}
\DoxyCodeLine{923             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{924 }
\DoxyCodeLine{925         ecs\_sys\_t* sys = \&ecs-\/>systems[sys\_id];}
\DoxyCodeLine{926         ecs\_bitset\_t entity\_bits = ecs-\/>entities[entity\_id].comp\_bits;}
\DoxyCodeLine{927 }
\DoxyCodeLine{928         \textcolor{keywordflow}{if} (ecs\_entity\_system\_test(sys-\/>match, sys-\/>comp\_bits, entity\_bits))}
\DoxyCodeLine{929             ecs\_sparse\_set\_remove(\&sys-\/>entity\_ids, entity\_id);}
\DoxyCodeLine{930     \}}
\DoxyCodeLine{931 \}}
\DoxyCodeLine{932 }
\DoxyCodeLine{933 \textcolor{comment}{/*=============================================================================}}
\DoxyCodeLine{934 \textcolor{comment}{ * Internal ID pool functions}}
\DoxyCodeLine{935 \textcolor{comment}{ *============================================================================*/}}
\DoxyCodeLine{936 }
\DoxyCodeLine{937 \textcolor{keyword}{inline} \textcolor{keyword}{static} \textcolor{keywordtype}{void} ecs\_id\_stack\_push(ecs\_id\_stack\_t* stack, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id})}
\DoxyCodeLine{938 \{}
\DoxyCodeLine{939     ECS\_ASSERT(is\_not\_null(stack));}
\DoxyCodeLine{940     ECS\_ASSERT(stack-\/>size < ECS\_MAX\_ENTITIES);}
\DoxyCodeLine{941     stack-\/>array[stack-\/>size++] = id;}
\DoxyCodeLine{942 \}}
\DoxyCodeLine{943 }
\DoxyCodeLine{944 \textcolor{keyword}{inline} \textcolor{keyword}{static} \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} ecs\_id\_stack\_pop(ecs\_id\_stack\_t* stack)}
\DoxyCodeLine{945 \{}
\DoxyCodeLine{946     ECS\_ASSERT(is\_not\_null(stack));}
\DoxyCodeLine{947     \textcolor{keywordflow}{return} stack-\/>array[-\/-\/stack-\/>size];}
\DoxyCodeLine{948 \}}
\DoxyCodeLine{949 }
\DoxyCodeLine{950 \textcolor{keyword}{inline} \textcolor{keyword}{static} \textcolor{keywordtype}{int} ecs\_id\_stack\_size(ecs\_id\_stack\_t* stack)}
\DoxyCodeLine{951 \{}
\DoxyCodeLine{952     \textcolor{keywordflow}{return} stack-\/>size;}
\DoxyCodeLine{953 \}}
\DoxyCodeLine{954 }
\DoxyCodeLine{955 \textcolor{comment}{/*=============================================================================}}
\DoxyCodeLine{956 \textcolor{comment}{ * Internal validation functions}}
\DoxyCodeLine{957 \textcolor{comment}{ *============================================================================*/}}
\DoxyCodeLine{958 \textcolor{preprocessor}{\#ifdef ECS\_DEBUG}}
\DoxyCodeLine{959 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_is\_not\_null(\textcolor{keywordtype}{void}* ptr)}
\DoxyCodeLine{960 \{}
\DoxyCodeLine{961     \textcolor{keywordflow}{return} NULL != ptr;}
\DoxyCodeLine{962 \}}
\DoxyCodeLine{963 }
\DoxyCodeLine{964 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_is\_valid\_entity\_id(\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id})}
\DoxyCodeLine{965 \{}
\DoxyCodeLine{966     \textcolor{keywordflow}{return} \textcolor{keywordtype}{id} < ECS\_MAX\_ENTITIES;}
\DoxyCodeLine{967 \}}
\DoxyCodeLine{968 }
\DoxyCodeLine{969 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_is\_valid\_component\_id(\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id})}
\DoxyCodeLine{970 \{}
\DoxyCodeLine{971     \textcolor{keywordflow}{return} \textcolor{keywordtype}{id} < ECS\_MAX\_COMPONENTS;}
\DoxyCodeLine{972 \}}
\DoxyCodeLine{973 }
\DoxyCodeLine{974 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_is\_valid\_system\_id(\mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} \textcolor{keywordtype}{id})}
\DoxyCodeLine{975 \{}
\DoxyCodeLine{976     \textcolor{keywordflow}{return} \textcolor{keywordtype}{id} < ECS\_MAX\_SYSTEMS;}
\DoxyCodeLine{977 \}}
\DoxyCodeLine{978 }
\DoxyCodeLine{979 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_is\_entity\_ready(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} entity\_id)}
\DoxyCodeLine{980 \{}
\DoxyCodeLine{981     \textcolor{keywordflow}{return} ecs-\/>entities[entity\_id].ready;}
\DoxyCodeLine{982 \}}
\DoxyCodeLine{983 }
\DoxyCodeLine{984 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_is\_component\_ready(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} comp\_id)}
\DoxyCodeLine{985 \{}
\DoxyCodeLine{986     \textcolor{keywordflow}{return} ecs-\/>comps[comp\_id].ready;}
\DoxyCodeLine{987 \}}
\DoxyCodeLine{988 }
\DoxyCodeLine{989 \textcolor{keyword}{static} \textcolor{keywordtype}{bool} ecs\_is\_system\_ready(\mbox{\hyperlink{pico__ecs_8h_a78aee9dde23c9234e2607b7bf6c91139}{ecs\_t}}* ecs, \mbox{\hyperlink{pico__ecs_8h_aa9ee79bf65bd0a2a714e48a71e58c3de}{ecs\_id\_t}} sys\_id)}
\DoxyCodeLine{990 \{}
\DoxyCodeLine{991     \textcolor{keywordflow}{return} ecs-\/>systems[sys\_id].ready;}
\DoxyCodeLine{992 \}}
\DoxyCodeLine{993 }
\DoxyCodeLine{994 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// ECS\_DEBUG}}
\DoxyCodeLine{995 }
\DoxyCodeLine{996 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// ECS\_IMPLEMENTATION}}
\DoxyCodeLine{997 }
\DoxyCodeLine{998 \textcolor{comment}{/*}}
\DoxyCodeLine{999 \textcolor{comment}{    -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1000 \textcolor{comment}{    This software is available under two licenses (A) or (B). You may choose}}
\DoxyCodeLine{1001 \textcolor{comment}{    either one as you wish:}}
\DoxyCodeLine{1002 \textcolor{comment}{    -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1003 \textcolor{comment}{}}
\DoxyCodeLine{1004 \textcolor{comment}{    (A) The zlib License}}
\DoxyCodeLine{1005 \textcolor{comment}{}}
\DoxyCodeLine{1006 \textcolor{comment}{    Copyright (c) 2021 James McLean}}
\DoxyCodeLine{1007 \textcolor{comment}{}}
\DoxyCodeLine{1008 \textcolor{comment}{    This software is provided 'as-\/is', without any express or implied warranty.}}
\DoxyCodeLine{1009 \textcolor{comment}{    In no event will the authors be held liable for any damages arising from the}}
\DoxyCodeLine{1010 \textcolor{comment}{    use of this software.}}
\DoxyCodeLine{1011 \textcolor{comment}{}}
\DoxyCodeLine{1012 \textcolor{comment}{    Permission is granted to anyone to use this software for any purpose,}}
\DoxyCodeLine{1013 \textcolor{comment}{    including commercial applications, and to alter it and redistribute it}}
\DoxyCodeLine{1014 \textcolor{comment}{    freely, subject to the following restrictions:}}
\DoxyCodeLine{1015 \textcolor{comment}{}}
\DoxyCodeLine{1016 \textcolor{comment}{    1. The origin of this software must not be misrepresented; you must not}}
\DoxyCodeLine{1017 \textcolor{comment}{    claim that you wrote the original software. If you use this software in a}}
\DoxyCodeLine{1018 \textcolor{comment}{    product, an acknowledgment in the product documentation would be appreciated}}
\DoxyCodeLine{1019 \textcolor{comment}{    but is not required.}}
\DoxyCodeLine{1020 \textcolor{comment}{}}
\DoxyCodeLine{1021 \textcolor{comment}{    2. Altered source versions must be plainly marked as such, and must not be}}
\DoxyCodeLine{1022 \textcolor{comment}{    misrepresented as being the original software.}}
\DoxyCodeLine{1023 \textcolor{comment}{}}
\DoxyCodeLine{1024 \textcolor{comment}{    3. This notice may not be removed or altered from any source distribution.}}
\DoxyCodeLine{1025 \textcolor{comment}{}}
\DoxyCodeLine{1026 \textcolor{comment}{    -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1027 \textcolor{comment}{}}
\DoxyCodeLine{1028 \textcolor{comment}{    (B) Public Domain (www.unlicense.org)}}
\DoxyCodeLine{1029 \textcolor{comment}{}}
\DoxyCodeLine{1030 \textcolor{comment}{    This is free and unencumbered software released into the public domain.}}
\DoxyCodeLine{1031 \textcolor{comment}{}}
\DoxyCodeLine{1032 \textcolor{comment}{    Anyone is free to copy, modify, publish, use, compile, sell, or distribute}}
\DoxyCodeLine{1033 \textcolor{comment}{    this software, either in source code form or as a compiled binary, for any}}
\DoxyCodeLine{1034 \textcolor{comment}{    purpose, commercial or non-\/commercial, and by any means.}}
\DoxyCodeLine{1035 \textcolor{comment}{}}
\DoxyCodeLine{1036 \textcolor{comment}{    In jurisdictions that recognize copyright laws, the author or authors of}}
\DoxyCodeLine{1037 \textcolor{comment}{    this software dedicate any and all copyright interest in the software to the}}
\DoxyCodeLine{1038 \textcolor{comment}{    public domain. We make this dedication for the benefit of the public at}}
\DoxyCodeLine{1039 \textcolor{comment}{    large and to the detriment of our heirs and successors. We intend this}}
\DoxyCodeLine{1040 \textcolor{comment}{    dedication to be an overt act of relinquishment in perpetuity of all present}}
\DoxyCodeLine{1041 \textcolor{comment}{    and future rights to this software under copyright law.}}
\DoxyCodeLine{1042 \textcolor{comment}{}}
\DoxyCodeLine{1043 \textcolor{comment}{    THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}}
\DoxyCodeLine{1044 \textcolor{comment}{    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}}
\DoxyCodeLine{1045 \textcolor{comment}{    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}}
\DoxyCodeLine{1046 \textcolor{comment}{    AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN}}
\DoxyCodeLine{1047 \textcolor{comment}{    ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION}}
\DoxyCodeLine{1048 \textcolor{comment}{    WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.}}
\DoxyCodeLine{1049 \textcolor{comment}{*/}}
\DoxyCodeLine{1050 }
\DoxyCodeLine{1051 \textcolor{comment}{// EoF}}

\end{DoxyCode}
